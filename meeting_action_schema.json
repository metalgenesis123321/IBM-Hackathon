{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "MeetingActionExtraction",
  "type": "object",
  "required": ["meeting_id","actions"],
  "properties": {
    "meeting_id": {"type": "string"},
    "source_text": {"type": "string"},
    "generated_at": {"type": "string", "format": "date-time"},
    "actions": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id","text","type","confidence"],
        "properties": {
          "id": {"type": "string"},
          "text": {"type": "string", "description": "Canonical short text of the action/decision"},
          "type": {"type": "string", "enum":["action","decision","question","note","info_request","reminder"]},
          "assignees": {
            "type":"array",
            "items":{
              "type":"object",
              "properties":{
                "name":{"type":"string"},
                "email":{"type":"string","format":"email"},
                "role":{"type":"string"}
              },
              "required":[] 
            }
          },
          "due_date": {"type":"string","format":"date"},
          "priority": {"type":"string","enum":["low","medium","high"]},
          "confidence": {"type":"number","minimum":0,"maximum":1},
          "source_span": {
            "type":"object",
            "properties":{
              "start_char":{"type":"integer"},
              "end_char":{"type":"integer"},
              "speaker":{"type":"string"}
            }
          },
          "context": {"type":"string", "description":"Sentence or short context snippet"},
          "tags": {"type":"array","items":{"type":"string"}},
          "metadata": {"type":"object","additionalProperties": true}
        }
      }
    }
  }
}
